{% load static %}

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="{% static 'stories2image/home.css' %}">


	<title></title>
</head>
<body>

	<div>
        <div class="most-top-div" >
            <h1 style="color: #E07A5F; font-size: 40px">Text To Image Converter</h1>
        </div>
    </div>


    <div class="second-div">
        <div class="second-div-a">
            <form class = "second-div-a-form" method="post" action="{% url 's2i-home' %}" >{% csrf_token %}
				<textarea rows="10", cols="100", for="my_data", id="my_data", name="my_data" placeholder="Type here..."></textarea>
				<input class = "second-div-a-form-submit" type="submit" value="Convert">
			</form>
        </div>

        <div class="second-div-b">
			<div class="slider-container">
			  <div class="slider">
			    {% for image in images %}
					{% for i in image%}
						<img src="{{i}}" alt="My Image">
					{% endfor %}
				{% endfor %}
			  </div>
	        <button class="prev">&#10094;</button>
	        <button class="next">&#10095;</button>
			</div>
        </div>
    </div>


    <div class="third-div">
      <div class="third-div-a">
      		<h1 style="color: #3D405B; font-style: italic;">Summary of the Text</h1>
      			{% for part in parts %}
         			<p style="color: #3D405B; padding-left: 20px;"  >{{ part }}</p>
         		{% endfor %}
         		<br><br>
         		{% for summary in summaries %}
         			<p style="color: #3D405B; padding-left: 20px;"  >{{ summary }}</p>
         		{% endfor %}
      </div>

      <div class="third-div-b">
      	<h1 style="color: #3D405B; font-style: italic;"> Keywords</h1>
				<ul style="list-style-type: disc; margin: 0; padding: 0; color: #3D405B;">
					{% for korg in keywords_org %}
						{% for i in korg %}
							<li style="margin: 0 0 10px 20px; color: #3D405B;">{{ i }}</li>
						{% endfor %}
					{% endfor %}
				</ul>
      </div>

      <div class="third-div-c">
      	<h1 style="color: #3D405B; font-style: italic;"> Similar Keywords</h1>
				<ul style="list-style-type: disc; margin: 0; padding: 0; color: #3D405B;">
				  {% for knew in keywords_new %}
						{% for i in knew %}
							<li style="margin: 0 0 10px 20px; color: #3D405B;">{{ i }}</li>
						{% endfor %}
					{% endfor %}
				</ul>
      </div>

      <div class="third-div-d">
				<h1 style="color: #3D405B; font-style: italic;"> Selected Category</h1>
				{% for genre in genres %}
					<h1 style="color: #3D405B;  solid 1px;">{{ genre }}</h1>
				{% endfor %}
      </div>
    </div>




    <script type="text/javascript">
		const slider = document.querySelector('.slider');
		const prevButton = document.querySelector('.prev');
		const nextButton = document.querySelector('.next');
		const images = document.querySelectorAll('.slider img');

		let counter = 1;
		const size = images[0].clientWidth;

		slider.style.transform = 'translateX(' + (-size * counter) + 'px)';

		nextButton.addEventListener('click', () => {
		  if (counter >= images.length - 1) return;
		  slider.style.transition = 'transform 0.5s ease-in-out';
		  counter++;
		  slider.style.transform = 'translateX(' + (-size * counter) + 'px)';
		});

		prevButton.addEventListener('click', () => {
		  if (counter <= 0) return;
		  slider.style.transition = 'transform 0.5s ease-in-out';
		  counter--;
		  slider.style.transform = 'translateX(' + (-size * counter) + 'px)';
		});

		slider.addEventListener('transitionend', () => {
		  if (images[counter].alt === 'last clone') {
		    slider.style.transition = 'none';
		    counter = images.length - 2;
		    slider.style.transform = 'translateX(' + (-size * counter) + 'px)';
		  }
		  if (images[counter].alt === 'first clone') {
		    slider.style.transition = 'none';
		    counter = images.length - counter;
		    slider.style.transform = 'translateX(' + (-size * counter) + 'px)';
		  }
		});


    </script>

    <footer>
    	{% for image in images %}
				{% for i in image%}
					<img src="{{i}}">
				{% endfor %}
			{% endfor %}
    </footer>

</body>
</html>
